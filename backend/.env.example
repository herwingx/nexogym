# Supabase Autohosteado (supabase.herwingx.dev)

# DATABASE_URL utiliza conexión por PGBouncer (generalmente puerto 6543 en Supabase).
DATABASE_URL="postgresql://postgres:[TU_PASSWORD]@db.supabase.herwingx.dev:6543/postgres?pgbouncer=true&connection_limit=1"

# Supabase Auth
SUPABASE_URL="https://supabase.herwingx.dev"
SUPABASE_ANON_KEY="tu_anon_key"
# Solo para scripts de seed/admin — NUNCA exponer en el frontend
SUPABASE_SERVICE_ROLE_KEY="tu_service_role_key"

# Logging
NODE_ENV="production"
PORT="3000"
LOG_LEVEL="info"
LOG_PRETTY="false"

# URL pública del backend (usada en Swagger, CORS, etc.)
PUBLIC_URL="https://api.tudominio.com"

# HTTP Runtime
BODY_LIMIT="1mb"
CORS_ORIGIN="https://tudominio.com"
TRUST_PROXY="true"

# Rate Limiting
RATE_LIMIT_API_MAX="180"
RATE_LIMIT_API_WINDOW_MS="60000"
RATE_LIMIT_CHECKIN_MAX="60"
RATE_LIMIT_CHECKIN_WINDOW_MS="60000"
RATE_LIMIT_BIOMETRIC_MAX="40"
RATE_LIMIT_BIOMETRIC_WINDOW_MS="60000"

# Metrics / Observability (METRICS_TOKEN obligatorio en producción)
METRICS_ENABLED="true"
METRICS_TOKEN="un_token_secreto_seguro"

# n8n Webhooks (mensajería automatizada)
N8N_BASE_URL="https://n8n.tudominio.com"
