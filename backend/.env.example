# Supabase Autohosteado (supabase.herwingx.dev)

# DATABASE_URL utiliza conexión por PGBouncer (generalmente puerto 6543 en Supabase).
DATABASE_URL="postgresql://postgres:[TU_PASSWORD]@db.supabase.herwingx.dev:6543/postgres?pgbouncer=true&connection_limit=1"

# Supabase Auth
SUPABASE_URL="https://supabase.herwingx.dev"
SUPABASE_ANON_KEY="tu_anon_key"
# Solo para scripts de seed/admin — NUNCA exponer en el frontend
SUPABASE_SERVICE_ROLE_KEY="tu_service_role_key"

# Logging
NODE_ENV="production"
PORT="3000"
LOG_LEVEL="info"
LOG_PRETTY="false"

# URL pública del backend (usada en Swagger, CORS, etc.)
PUBLIC_URL="https://api.tudominio.com"

# HTTP Runtime
BODY_LIMIT="1mb"
CORS_ORIGIN="https://tudominio.com"
TRUST_PROXY="true"

# Rate Limiting
RATE_LIMIT_API_MAX="180"
RATE_LIMIT_API_WINDOW_MS="60000"
RATE_LIMIT_CHECKIN_MAX="60"
RATE_LIMIT_CHECKIN_WINDOW_MS="60000"
RATE_LIMIT_BIOMETRIC_MAX="40"
RATE_LIMIT_BIOMETRIC_WINDOW_MS="60000"

# Metrics / Observability (METRICS_TOKEN obligatorio en producción)
METRICS_ENABLED="true"
METRICS_TOKEN="un_token_secreto_seguro"

# URL base del frontend (enlaces de login en bienvenidas admin/socio)
APP_LOGIN_URL="https://app.tudominio.com"

# n8n Webhooks (WhatsApp: welcome, reward, shift_summary)
N8N_BASE_URL="https://n8n.tudominio.com"

# Brevo — correos transaccionales (bienvenidas, comprobantes, reset staff)
# 1. Crear cuenta en app.brevo.com
# 2. SMTP & API → Claves API → crear clave
# 3. Configuración → Remitentes → añadir y verificar remitente (tu Gmail si no tienes dominio)
BREVO_API_KEY=""
BREVO_FROM_EMAIL=""
BREVO_FROM_NAME="NexoGym"
